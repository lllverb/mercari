# アプリケーション概要
  フリーマーケットアプリケーションである「メルカリ」のコピーサイトを作成しました。
## 接続先情報
URL http://54.65.140.34/
#### ID/Pass
* ID: tarou
* Pass: 1234
#### テスト用アカウント等
購入者用
* メールアドレス: test@test
* パスワード: testtest
#### 購入用カード情報
* 番号：4242 4242 4242 4242
* 期限：12/23
* ユーザー名：A
* sセキュリティコード：123
#### 出品者用
* メールアドレス名: sell@sell
* パスワード: sellsell

# DB設計
## usersテーブル
|column|type|options|
|------|----|-------|
|nickname|string|null: false|
|email|string|null: false|
|password|string|null: false|
|profile_image|string|null: false|
|first_name|string|null: false|
|last_name|string|null: false|
|first_name_kana|string|null: false|
|last_name_kana|string|null: false|
|birth_year|integer|null: false|
|birth_month|integer|null: false|
|birth_day|integer|null: false|
|phone_number|integer|null: false|
- has_one :card, dependent: :destroy
- has_many :valuations, dependent: :destroy
- has_many :messages, dependent: :destroy
- has_many :products, dependent: :destroy
- has_many :points, dependent: :destroy
- has_many :likes, dependent: :destroy
- has_many :confirmpurchases, dependent: :destroy
- has_one :address, dependent: :destroy

## address テーブル
|column|type|options|
|------|----|-------|
|user_id|integer|null: false, foreign_key: true|
|postalcode|integer|null: false|
|prefecture_id|integer|null: false, foreign_key: true|
|city|string|null: false|
|address|string|null: false|
|building_name|string||
- belongs_to :user

## cardsテーブル
|column|type|options|
|------|----|-------|
|user_id|integer|null: false, foreign_key: true|
|card_number|integer|null: false|
|expiration_date|integer|null: false|
|security_code|integer|null: false|
- belongs_to :user

## productsテーブル
|column|type|options|
|------|----|-------|
|name|string|null: false|
|price|integer|null: false|
|detail|text|null: false|
|condition|integer|null: false, foreign_key: true|
|shipping_fee|integer|null: false, foreign_key: true|
|shipping_method_id|integer|null: false, foreign_key: true|
|prefectures_id|integer|null: false, foreign_key: true|
|deliveryday_id|integer|null: false, foreign_key: true|
|user_id|integer|null: false, foreign_key: true|
|category_id|integer|null: false, foreign_key: true|
|brand_id|integer||
|size_id|integer|null: false, foreign_key: true|
- belongs_to :user
- has_many :confirmpurchases
- belongs_to :size
- belongs_to :condition
- belongs_to :deliveryday
- belongs_to :shippingfee#0295EE
- belongs_to :shippingmethod
- belongs_to :brand
- belongs_to :category
- belongs_to :prefecture
- has_many :comments, dependent: :destroy
- has_many :likes, dependent: :destroy
- has_many :users, through: :likes, dependent: :destroy
- has_many :images

## images
|column|type|options|
|------|----|-------|
|user_id|integer|null: false, foreign_key: true|
|image|string|null: false|
- belongs_to :product



## confirmpurchases
|column|type|options|
|------|----|-------|
|user_id|integer|null: false, foreign_key: true|
|product_id|integer|null: false, foreign_key: true|
- belongs_to :users
- belongs_to :product
- has_one :todopurchase

## todopurchases
|column|type|options|
|------|----|-------|
|confirm_purchase_id|integer|null: false, foreign_key: true|
- belongs_to :confirmpurchase

## conditionsテーブル
|column|type|options|
|------|----|-------|
|content|string|null: false|
|category_third_id|string|null: false, foreign_key: true|
- has_many :products

## commentsテーブル
|column|type|options|
|------|----|-------|
|from_user_id|integer|null: false, foreign_key: true|
|to_producr_id|integer|null: false, foreign_key: true|
|content|string|null: false|
- belongs_to :product

## messagesテーブル
|column|type|options|
|------|----|-------|
|to_user_id|integer|null: false, foreign_key: true|
|from_user_id|integer|null: false, foreign_key: true|
|content|string|null: false|
- belongs_to :user, foreign_key: to_user_id
- belongs_to :user, foreign_key: from_user_id
- has_one :todomessage

## todomessagesテーブル
|column|type|options|
|------|----|-------|
|message_id|integer|null: false, foreign_key: true|
- belongs_to :message

## valuations
|column|type|options|
|------|----|-------|
|to_user_id|integer|null: false, foreign_key: true|
|from_user_id|integer|null: false, foreign_key: true|
|valuation_option_id|integer|null: false, foreign_key: true|

- belongs_to :user, foreign_key: to_user_id
- belongs_to :user, foreign_key: from_user_id
- belongs_to :valuationsoption

## valuationsoptions
|column|type|options|
|------|----|-------|
|content|string|null:false|
- has_many :valuations

## sizesテーブル
|column|type|options|
|------|----|-------|
|content|string|null: false|
|category_third_id|integer|null: false, foreign_key: true|
- has_many :products

## deliverydaysテーブル
|column|type|options|
|------|----|-------|
|content|string|null: false|
- has_many :products


## shippingfeesテーブル
|column|type|options|
|------|----|-------|
|content|string|null: false|
- has_many :products


## shippingmethodsテーブル
|column|type|options|
|------|----|-------|
|content|string|null: false|
- has_many :products


## categories
|column|type|options|
|------|----|-------|
|name|string|null: false|
|ancestry|integer||
- has_many :products

## brands
|column|type|options|
|------|----|-------|
|name|string|null: false|
- has_many: products

## prefectures
|column|type|options|
|------|----|-------|
|name|string|null: false|
- has_many :products
- has_many :users

## likes
|column|type|options|
|------|----|-------|
|to_product_id|integer|null: false, foreign_key: true|
|from_user_id|integer|null: false, foreign_key: true|
- belongs_to :product
- belongs_to :user

## points
|column|type|options|
|------|----|-------|
|user_id|integer|null: false, foreign_key: true|
|point|integer|null: false|
- belongs_to :user

## contacts
|column|type|options|
|------|----|-------|
|content|string|null: false|

## aboutpurchases
|column|type|options|
|------|----|-------|
|product_id|integer|null: false, foreign_key: true|
|content|string|null: false|

## troubles
|column|type|options|
|------|----|-------|
|product_id|integer|null: false, foreign_key: true|
|content|string|null: false|

## mulfunctions
|column|type|options|
|------|----|-------|
|year|integer|null: false|
|month|integer|null: false|
|day|integer|null: false|
|hour|integer|null: false|
|minute|integer|null: false|
|frequency_id|integer|null: false, foreign_key: true|
|detail|string|null: false|
|product_name|string|null: false|
|what|string|null: false|
- belongs_to :frequency

## frequencies
|column|type|options|
|------|----|-------|
|contents|string|null: false|
- has_many :mulfunctions

## unsubscribe
|column|type|options|
|------|----|-------|
|user_id|integer|null: false, foreign_key: true|
|reason_id|integer|null: false, foreign_key: true|
|reason_detail|string|null: false|
- belongs_to :reason

## reasons
|column|type|options|
|------|----|-------|
|content|string|null: false|
- has_many :unsubscribes
